(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[620],{1011:(e,t,r)=>{Promise.resolve().then(r.bind(r,1086))},1086:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>c});var s=r(5155),i=r(2115),a=r(5695),l=r(5333),n=r(6631);function c(){let[e,t]=(0,i.useState)(null),[r,c]=(0,i.useState)(!0),o=(0,a.useRouter)(),u=(0,n.A)();(0,i.useEffect)(()=>{(async()=>{try{let{data:{user:e},error:r}=await l.N.auth.getUser();if(r)throw r;t(e)}catch(e){console.error("Error fetching user:",e)}finally{c(!1)}})()},[]);let d=async()=>{try{let{error:e}=await l.N.auth.signOut();if(e)throw e;o.push("/login")}catch(e){console.error("Error signing out:",e)}};return r||u?(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-b from-blue-500 to-purple-600 flex items-center justify-center",children:(0,s.jsx)("div",{className:"text-white text-xl",children:"Loading..."})}):(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-b from-blue-500 to-purple-600 flex flex-col items-center justify-center p-4",children:(0,s.jsxs)("div",{className:"bg-white p-8 rounded-lg shadow-xl max-w-md w-full",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,s.jsxs)("h1",{className:"text-2xl font-bold text-gray-800",children:["Welcome, ",null==e?void 0:e.email]}),(0,s.jsx)("button",{onClick:d,className:"text-sm text-gray-600 hover:text-gray-800",children:"Sign Out"})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("button",{onClick:()=>o.push("/quiz"),className:"block w-full bg-blue-600 text-white text-center py-3 rounded-lg hover:bg-blue-700 transition duration-200",children:"Start Quiz"}),(0,s.jsx)("button",{onClick:()=>o.push("/leaderboard"),className:"block w-full bg-gray-200 text-gray-800 text-center py-3 rounded-lg hover:bg-gray-300 transition duration-200",children:"View Leaderboard"})]})]})})}},5333:(e,t,r)=>{"use strict";r.d(t,{N:()=>l});var s=r(851);let i="https://xybazndugmjeeqxvlwgd.supabase.co",a="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inh5YmF6bmR1Z21qZWVxeHZsd2dkIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDU2ODgyMjIsImV4cCI6MjA2MTI2NDIyMn0.MZwuXD103K1XGjr0_NdYiqdmk_YDF7VNN78aNSoQzNU";if(!i||!a)throw Error("Missing Supabase environment variables");let l=(0,s.UU)(i,a)},6631:(e,t,r)=>{"use strict";r.d(t,{A:()=>l});var s=r(2115),i=r(5695),a=r(5333);function l(){let[e,t]=(0,s.useState)(!0),r=(0,i.useRouter)();return(0,s.useEffect)(()=>{(async()=>{try{let{data:{session:e},error:s}=await a.N.auth.getSession();if(s)throw s;if(!e)return void r.push("/login");t(!1)}catch(e){console.error("Auth check error:",e),r.push("/login")}})()},[r]),e}}},e=>{var t=t=>e(e.s=t);e.O(0,[125,441,684,358],()=>t(1011)),_N_E=e.O()}]);