(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[410],{4459:(e,s,r)=>{Promise.resolve().then(r.bind(r,4628))},4628:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>d});var i=r(5155),t=r(2115),n=r(5695),a=r(6874),o=r.n(a),c=r(5333);function d(){let[e,s]=(0,t.useState)([]),[r,a]=(0,t.useState)(!0),[d,l]=(0,t.useState)(""),h=(0,n.useRouter)();(0,t.useEffect)(()=>{(async()=>{try{let{data:{user:e},error:s}=await c.N.auth.getUser();if(s||!e)return void h.push("/login");u()}catch(e){console.error("Auth check error:",e),h.push("/login")}})()},[h]);let u=async()=>{try{let{data:e,error:r}=await c.N.from("scores").select("\n          score,\n          total_questions,\n          created_at,\n          profiles (\n            email\n          )\n        ").order("score",{ascending:!1}).limit(10);if(r)throw r;s(e),a(!1)}catch(e){console.error("Error fetching scores:",e),l("Failed to load leaderboard"),a(!1)}};return r?(0,i.jsx)("div",{children:"Loading..."}):d?(0,i.jsx)("div",{children:d}):(0,i.jsxs)("div",{children:[(0,i.jsx)("h1",{children:"Leaderboard"}),(0,i.jsx)("div",{children:e.map((e,s)=>(0,i.jsxs)("div",{children:[(0,i.jsxs)("span",{children:[s+1,". ",e.profiles.email]}),(0,i.jsxs)("span",{children:["Score: ",e.score,"/",e.total_questions]}),(0,i.jsxs)("span",{children:["Percentage: ",(e.score/e.total_questions*100).toFixed(1),"%"]})]},s))}),(0,i.jsx)("div",{children:(0,i.jsx)(o(),{href:"/home",children:"Back to Home"})})]})}},5333:(e,s,r)=>{"use strict";r.d(s,{N:()=>a});var i=r(851);let t="https://xybazndugmjeeqxvlwgd.supabase.co",n="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inh5YmF6bmR1Z21qZWVxeHZsd2dkIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDU2ODgyMjIsImV4cCI6MjA2MTI2NDIyMn0.MZwuXD103K1XGjr0_NdYiqdmk_YDF7VNN78aNSoQzNU";if(!t||!n)throw Error("Missing Supabase environment variables");let a=(0,i.UU)(t,n)}},e=>{var s=s=>e(e.s=s);e.O(0,[125,874,441,684,358],()=>s(4459)),_N_E=e.O()}]);