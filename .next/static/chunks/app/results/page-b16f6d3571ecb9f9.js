(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[139],{1294:(e,t,r)=>{Promise.resolve().then(r.bind(r,2319))},2319:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>d});var s=r(5155),a=r(2115),n=r(5695),i=r(2528),c=r(5610),l=r(5317),o=r(6874),u=r.n(o);function d(){let[e,t]=(0,a.useState)([]),[r,o]=(0,a.useState)(!0),{currentUser:d}=(0,i.A)(),m=(0,n.useRouter)(),b=(0,n.useSearchParams)().get("pts");return((0,a.useEffect)(()=>{if(!d)return void m.push("/");!async function(){try{let e=(0,l.rJ)(c.db,"scores"),r=(0,l.P)(e,(0,l.My)("points","desc"),(0,l.AB)(5)),s=(await (0,l.GG)(r)).docs.map(e=>({id:e.id,...e.data()}));t(s)}catch(e){console.error("Error fetching scores:",e)}finally{o(!1)}}()},[d,m]),r)?(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-b from-blue-500 to-purple-600 flex items-center justify-center",children:(0,s.jsx)("div",{className:"text-white text-xl",children:"Loading results..."})}):(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-b from-blue-500 to-purple-600 flex items-center justify-center p-4",children:(0,s.jsxs)("div",{className:"bg-white p-8 rounded-lg shadow-xl max-w-md w-full",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-center mb-6",children:"Game Over!"}),(0,s.jsxs)("p",{className:"text-xl text-center mb-6",children:["Your score: ",b," points"]}),(0,s.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Top Players"}),(0,s.jsx)("div",{className:"space-y-3 mb-6",children:e.map((e,t)=>(0,s.jsxs)("div",{className:"flex justify-between items-center p-3 rounded-md ".concat(e.userId===d.uid?"bg-blue-100 border border-blue-200":"bg-gray-50"),children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsxs)("span",{className:"text-gray-500 mr-2",children:[t+1,"."]}),(0,s.jsx)("span",{className:"font-medium",children:e.email})]}),(0,s.jsxs)("span",{className:"font-bold",children:[e.points," points"]})]},e.id))}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)(u(),{href:"/home",className:"block w-full bg-blue-600 text-white text-center py-3 rounded-lg hover:bg-blue-700 transition duration-200",children:"Go Home"}),(0,s.jsx)(u(),{href:"/quiz",className:"block w-full bg-gray-200 text-gray-800 text-center py-3 rounded-lg hover:bg-gray-300 transition duration-200",children:"Play Again"})]})]})})}},2528:(e,t,r)=>{"use strict";r.d(t,{A:()=>l,AuthProvider:()=>o});var s=r(5155),a=r(2115),n=r(5610),i=r(6203);let c=(0,a.createContext)();function l(){return(0,a.useContext)(c)}function o(e){let{children:t}=e,[r,l]=(0,a.useState)(null),[o,u]=(0,a.useState)(!0);return(0,a.useEffect)(()=>(0,i.hg)(n.j,e=>{l(e),u(!1)}),[]),(0,s.jsx)(c.Provider,{value:{currentUser:r,signup:function(e,t){return(0,i.eJ)(n.j,e,t)},login:function(e,t){return(0,i.x9)(n.j,e,t)},logout:function(){return(0,i.CI)(n.j)}},children:!o&&t})}},5610:(e,t,r)=>{"use strict";r.d(t,{db:()=>o,j:()=>l});var s=r(3915),a=r(6203),n=r(5317),i=r(9509);for(let e of["NEXT_PUBLIC_FIREBASE_API_KEY","NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN","NEXT_PUBLIC_FIREBASE_PROJECT_ID","NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET","NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID","NEXT_PUBLIC_FIREBASE_APP_ID"])if(!i.env[e])throw Error("Missing required environment variable: ".concat(e));let c=(0,s.Wp)({apiKey:"AIzaSyCmbXbDg_Lwi-QO0vZr0b5vPPsWG9wdeO8",authDomain:"knowball-ecbb6.firebaseapp.com",projectId:"knowball-ecbb6",storageBucket:"knowball-ecbb6.firebasestorage.app",messagingSenderId:"719725276363",appId:"1:719725276363:web:47c2e93a055288d37c7f4e"}),l=(0,a.xI)(c),o=(0,n.aU)(c)},5695:(e,t,r)=>{"use strict";var s=r(8999);r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}}),r.o(s,"useSearchParams")&&r.d(t,{useSearchParams:function(){return s.useSearchParams}})}},e=>{var t=t=>e(e.s=t);e.O(0,[992,118,645,874,441,684,358],()=>t(1294)),_N_E=e.O()}]);